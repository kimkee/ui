<!doctype html> 
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link href="./static/img/common/favicon.ico" rel="shrtcut icon">
	<title>JS</title>
</head>
<body style="background-color: #444444; color:#999999;">
	<ul>
		<li class="on"><a href="javascript:;">kk</a></li>
		<li><a href="javascript:;">kk</a></li>
	</ul>
	<ul>
		<li><a href="javascript:;">kk</a></li>
		<li><a href="javascript:;">kk</a></li>
	</ul>

	<script>
/* 		document.querySelectorAll("ul").forEach((ul,i)=>{
			i++;
			ul.classList.add("ul"+i);
			ul.querySelectorAll("li").forEach( (li,i) => {
				i++
				li.classList.add("m"+i);
				// console.log(  li.hhh() );
				if ( li.classList.contains("on") ) {
					
					li.querySelectorAll("a").forEach( a => a.style.backgroundColor = "red");
				}
			});
		});
 */
		var $ = function(els){
			var result = [];
			document.querySelectorAll(els).forEach(function(ddd){
				// console.log(ddd);
				result.push(ddd)
			});
			// console.log(result);
			return result;
			
			
		}


		Element.prototype.addClass = function(s){
			var el = this;
			// console.log( this );
			c = s.trim().split(" ");
			// console.log( c );
			for (var i = 0; i < c.length; i++) {
				el.classList.add(c[i]);
			}
		};
		/* 
		function toggleClass(element, className){
			const check = new RegExp("(\\s|^)" + className + "(\\s|^)");
			console.log( check.test(element, className) );
			if( check.test(element, className) ){

				element.className = element.className.replace(check, " ").trim();
			}else{
				element.className += " " + className;
			}
		}
		*/
		
		 /* 
		Element.prototype.toggleClass = function( className) {
			var element = this;
			if (!element || !className) { return; }
			var classString = element.className;
			var nameIndex = classString.indexOf(className);
			if (nameIndex == -1) {
				classString += (classString.length) ? ' ' + className : className;
			} else {
				classString = classString.replace(' '+className, '');
				classString = classString.replace(className, '');
			}
			element.className = classString.trim().replace(/ +/g, " ");
		}
		*/
		Element.prototype.toggleClass = function(className,callback) {
			this.classList.toggle(className);
			callback = true;
			console.log(callback);
		}
		
		// document.querySelector("ul").addClass(" aa s ");
		console.log( $("ul") ); 
		$("ul>li").forEach(function(els,idx){
			els.closest("ul");
			els.addClass("k"+idx);
		})
		
		document.querySelector('body').toggleClass("open");
		
	</script>
</body>
</html>
